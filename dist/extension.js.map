{"version":3,"sources":["../webpack/bootstrap","../external \"vscode\"",".././src/extension.ts",".././src/modelCreator.ts",".././src/baseInput.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","context","disposable","vscode","commands","registerCommand","editor","window","activeTextEditor","safeJsonData","selection","selectionText","document","getText","inputClassName","showInputBox","clipboardText","env","clipboard","readText","console","log","JSON","parse","resultStr","ModelCreator","generateModel","edit","editBuilder","replace","insert","active","error","showErrorMessage","showQuickPick","placeHolder","subscriptions","push","upperFirstCase","str","substring","toUpperCase","defaultTypeValue","className","dataJson","data","enterSign","modelStr","eol","this","EndOfLine","LF","generateConstructor","generateInterface","generateClass","reverse","join","tempInterArr","keys","forEach","tempConArr","baseStructureKey","Array","isArray","filter","indexOf","_genClass","tempClassArr","undefined","unshift"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,gBClFrDhC,EAAOD,QAAUkC,QAAQ,W,gaCEzB,aACA,OACA,OAEA,oBAAyBC,GACvB,IAAIC,EAAaC,EAAOC,SAASC,gBAC/B,yBACA,W,yCAEE,IAAIC,EAASH,EAAOI,OAAOC,iBACvBC,EAAe,GAEnB,GAAIH,EAAQ,CACV,IAAII,EAAYJ,EAAOI,UACvB,MAAMC,EAAgBL,EAAOM,SAASC,QAAQH,GAC9C,IAAII,QAAuB,EAAAC,aAAaJ,GAAiB,IACzD,MAAMK,QAAsBb,EAAOc,IAAIC,UAAUC,WAEjD,IACEC,QAAQC,IAAI,gBAAiBL,GAC7BP,EAAea,KAAKC,MAAMP,GAE1B,MAKMQ,EALe,IAAI,EAAAC,aACvBX,GAAkB,GAClBL,GAG6BiB,gBAE/BpB,EAAOqB,KAAKC,IACVjB,EACEiB,EAAYC,QAAQnB,EAAWc,GAC/BI,EAAYE,OAAOpB,EAAUqB,OAAQP,KAEzC,MAAOQ,GAQP,GAPAZ,QAAQC,IAAI,QAASW,GACrB7B,EAAOI,OAAO0B,iBACZ,0BAKa,aAHI9B,EAAOI,OAAO2B,cAAc,CAAC,IAAK,KAAM,CACzDC,YAAa,kBAEK,CAClB,MAKMX,EALe,IAAI,EAAAC,aACvBX,GAAkB,GAClBL,GAG6BiB,gBAC/B,GAAIpB,EAAQ,CACV,IAAII,EAAYJ,EAAOI,UAGvBJ,EAAOqB,KAAKC,IACVjB,EACEiB,EAAYC,QAAQnB,EAAWc,GAC/BI,EAAYE,OAAOpB,EAAUqB,OAAQP,eASrDvB,EAAQmC,cAAcC,KAAKnC,K,oGCjE7B,aAEA,SAASoC,EAAeC,GACtB,OAAOA,EAAIC,UAAU,EAAG,GAAGC,cAAgBF,EAAIC,UAAU,GAG3D,MAAME,EAAmB,CACvB,YAAU,EACV,eAAa,EACb,OAAU,GACV,SAAW,EACX,YAAU,EACV,YAAU,EACV,OAAU,GACV,cAAY,GAGd,qBAME,YAAYC,EAAmBC,G,QALxB,KAAAC,KAA+B,GAC9B,KAAAF,UAAY,OACZ,KAAAG,UAAY,KACZ,KAAAC,SAA0B,IAGL,QAA3B,EAAI,EAAAxC,OAAOC,wBAAgB,eAAEI,SAASoC,OACpCC,KAAKH,WACoB,QAAvB,IAAAvC,OAAOC,wBAAgB,eAAEI,SAASoC,OAAQ,EAAAE,UAAUC,GAAK,KAAO,QAGpEF,KAAKN,UAAYA,EAAYL,EAAeK,GAAaM,KAAKN,UAC9DM,KAAKJ,KAAOD,GAAY,GAMnB,gBAEL,OAAkB,OAAdK,KAAKJ,MAEPI,KAAKF,SAASV,KAAKY,KAAKG,oBAAoBH,KAAKJ,OACjDI,KAAKF,SAASV,KAAKY,KAAKI,kBAAkBJ,KAAKJ,OAC/CI,KAAKF,SAASV,KAAKY,KAAKK,cAAcL,KAAKN,UAAWM,KAAKJ,KAAW,MAAK,KAEpEI,KAAKF,SAASQ,UAAUC,KAAKP,KAAKH,aAEzC,EAAAvC,OAAO0B,iBAAiB,2BACjB,IAKH,kBAAkBY,GACxB,IAAIY,EAAe,GAanB,OAZAA,EAAapB,KAAK,cAAcY,KAAKN,gCACrCjE,OAAOgF,KAAKb,GAAMc,QAAQpE,IACZ,SAARA,IACuB,iBAAdsD,EAAKtD,GACdkE,EAAapB,KAAK,KAAK9C,aAAesD,EAAKtD,OACpB,OAAdsD,EAAKtD,IACdkE,EAAapB,KAAK,KAAK9C,eAI7BkE,EAAapB,KAAK,cAClBoB,EAAapB,KAAK,IAAIY,KAAKH,WACpBW,EAAaD,KAAKP,KAAKH,WAOxB,oBAAoBD,GAC1B,IAAIe,EAAa,GACjB,MAAMC,EAAmB,CAAC,MAAO,UAAW,KAAM,UAAW,SAAU,OAAQ,QAuF/E,OAtFIC,MAAMC,QAAQlB,EAAW,MAC3Be,EAAWvB,KACT,gBAAgBY,KAAKN,sCAAsCM,KAAKN,kBAGlEiB,EAAWvB,KACT,gBAAgBY,KAAKN,sCAAsCM,KAAKN,gBAIpEiB,EAAWvB,KAAK,kBAChB3D,OAAOgF,KAAKb,GAAMmB,OAAOzE,IAA0C,IAAnCsE,EAAiBI,QAAQ1E,IAAaoE,QAAQpE,IAEnD,iBAAdsD,EAAKtD,GACdqE,EAAWvB,KAAK,OAAO9C,YAAcsD,EAAKtD,QAAUmD,SAAwBG,EAAKtD,QAC1D,OAAdsD,EAAKtD,GACdqE,EAAWvB,KAAK,OAAO9C,aACduE,MAAMC,QAAQlB,EAAKtD,IAC5BqE,EAAWvB,KAAK,OAAO9C,WAEvBqE,EAAWvB,KAAK,OAAO9C,aAI3BqE,EAAWvB,KAAK,IACZyB,MAAMC,QAAQlB,EAAW,MAC3Be,EAAWvB,KACT,2BAA2BY,KAAKN,2BAA2BM,KAAKN,mBAGlEiB,EAAWvB,KACT,2BAA2BY,KAAKN,2BAA2BM,KAAKN,iBAGpEiB,EAAWvB,KAAK,yBAChBuB,EAAWvB,KAAK,IAGhBuB,EAAWvB,KAAK,qBAChB3D,OAAOgF,KAAKb,GAAMc,QAAQpE,IACZ,QAARA,GAAyB,YAARA,GACnBqE,EAAWvB,KAAK,gCAAgC9C,gBAEtC,OAARA,GAAwB,YAARA,GAClBqE,EAAWvB,KAAK,gCAAgC9C,cAEtC,WAARA,GAA4B,SAARA,IACtBqE,EAAWvB,KAAK,6BAA6B9C,YAC7CqE,EAAWvB,KAAK,MAIqB,IAAnCwB,EAAiBI,QAAQ1E,KACF,iBAAdsD,EAAKtD,GACdqE,EAAWvB,KAAK,gBAAgB9C,aAAeA,QAAUmD,SAAwBG,EAAKtD,QAC/D,OAAdsD,EAAKtD,GACdqE,EAAWvB,KAAK,gBAAgB9C,aAAeA,cACtCuE,MAAMC,QAAQlB,EAAKtD,IAC5BqE,EAAWvB,KAAK,gBAAgB9C,aAAeA,YAE/CqE,EAAWvB,KAAK,gBAAgB9C,aAAeA,eAIrDqE,EAAWvB,KAAK,IAEhBuB,EAAWvB,KAAK,sCACZyB,MAAMC,QAAQlB,EAAW,MAC3Be,EAAWvB,KACT,4DAA4DY,KAAKN,gBAGnEiB,EAAWvB,KACT,6DAA6DY,KAAKN,gBAGtEiB,EAAWvB,KAAK,oBACZyB,MAAMC,QAAQlB,EAAW,MAC3Be,EAAWvB,KAAK,8BAEhBuB,EAAWvB,KAAK,+BAA+BY,KAAKN,gBAEtDiB,EAAWvB,KAAK,aAChBuB,EAAWvB,KAAK,QAChBuB,EAAWvB,KAAK,KAChBuB,EAAWvB,KAAK,IACTuB,EAAWJ,KAAKP,KAAKH,WAQtB,cAAcvE,EAAcsE,GAClC,IAAIqB,EAAarB,IACfzB,QAAQC,IAAI,WAAYwB,GACxBnE,OAAOgF,KAAKb,GAAMc,QAAQpE,IACC,iBAAdsD,EAAKtD,KACd4E,EAAa9B,KAAK,oBAAoB9C,OACtC4E,EAAa9B,KAAK,OAAO9C,gCACzB4E,EAAa9B,KAAK,KAEK,iBAAdQ,EAAKtD,KACd4E,EAAa9B,KAAK,oBAAoB9C,OACtC4E,EAAa9B,KAAK,OAAO9C,WACzB4E,EAAa9B,KAAK,KAEK,kBAAdQ,EAAKtD,KACd4E,EAAa9B,KAAK,oBAAoB9C,OACtC4E,EAAa9B,KAAK,OAAO9C,cACzB4E,EAAa9B,KAAK,UAEK,IAAdQ,EAAKtD,KACd4E,EAAa9B,KAAK,oBAAoB9C,OACtC4E,EAAa9B,KAAK,OAAO9C,eACzB4E,EAAa9B,KAAK,KAEK,iBAAdQ,EAAKtD,KACI,OAAdsD,EAAKtD,IACP4E,EAAa9B,KAAK,oBAAoB9C,OACtC4E,EAAa9B,KAAK,OAAO9C,aACzB4E,EAAa9B,KAAK,KACTyB,MAAMC,QAAQlB,EAAKtD,KAC5B4E,EAAa9B,KAAK,oBAAoB9C,YAEjB6E,IAAjBvB,EAAKtD,GAAK,IACZ4E,EAAa9B,KAAK,OAAO9C,KAAO+C,EAAe/C,eAC/C4E,EAAa9B,KAAK,IAClB8B,EAAaE,QAAQpB,KAAKK,cAAchB,EAAe/C,GAAMsD,EAAKtD,GAAK,OAEvE4E,EAAa9B,KAAK,OAAO9C,WACzB4E,EAAa9B,KAAK,OAGpB8B,EAAa9B,KACX,4BAA4BC,EAAe/C,eAAiBA,SAE9D4E,EAAa9B,KAAK,OAAO9C,WAAa+C,EAAe/C,QACvD4E,EAAa9B,KAAK,IAChB8B,EAAaE,QAAQpB,KAAKK,cAAchB,EAAe/C,GAAMsD,EAAKtD,UAKtE4E,EAAe,GASnB,OARAA,EAAa9B,KAAK,gBAAgB9D,QAC9BuF,MAAMC,QAAQlB,GAChBqB,EAAUrB,EAAK,IAEfqB,EAAUrB,GAEZsB,EAAa9B,KAAK,KAClB8B,EAAa9B,KAAK,IACX8B,EAAaX,KAAKP,KAAKH,c,oaCtOlC,aAEA,wBAAmCnC,G,yCAUjC,aAToB,EAAAJ,OAAOQ,aAAa,CACxC9B,MAAO0B,GAAgC,GAEvCwB,YAAa","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = require(\"vscode\");","\"use strict\";\r\n\r\nimport * as vscode from \"vscode\";\r\nimport { ModelCreator } from \"./modelCreator\";\r\nimport { showInputBox } from \"./baseInput\";\r\n\r\nexport function activate(context: vscode.ExtensionContext) {\r\n  let disposable = vscode.commands.registerCommand(\r\n    \"extension.createModel\",\r\n    async function() {\r\n      // Get the active text editor\r\n      let editor = vscode.window.activeTextEditor;\r\n      let safeJsonData = {};\r\n      \r\n      if (editor) {\r\n        let selection = editor.selection;\r\n        const selectionText = editor.document.getText(selection)\r\n        let inputClassName = await showInputBox(selectionText || '');\r\n        const clipboardText = await vscode.env.clipboard.readText();\r\n\r\n        try {\r\n          console.log('clipboardText', clipboardText)\r\n          safeJsonData = JSON.parse(clipboardText);\r\n  \r\n          const modelCreator = new ModelCreator(\r\n            inputClassName || \"\",\r\n            safeJsonData\r\n          );\r\n  \r\n          const resultStr = modelCreator.generateModel();\r\n          // Get the word within the selection\r\n          editor.edit(editBuilder => {\r\n            selectionText\r\n            ? editBuilder.replace(selection, resultStr)\r\n            : editBuilder.insert(selection.active, resultStr);\r\n          });\r\n        } catch (error) {\r\n          console.log('error', error)\r\n          vscode.window.showErrorMessage(\r\n            \"非法的JSON字符串，请重新复制接口响应数据\"\r\n          );\r\n          let result = await vscode.window.showQuickPick([\"是\", \"否\"], {\r\n            placeHolder: \"是否继续生成model？\"\r\n          });\r\n          if (result === \"是\") {\r\n            const modelCreator = new ModelCreator(\r\n              inputClassName || \"\",\r\n              safeJsonData\r\n            );\r\n  \r\n            const resultStr = modelCreator.generateModel();\r\n            if (editor) {\r\n              let selection = editor.selection;\r\n  \r\n              // Get the word within the selection\r\n              editor.edit(editBuilder => {\r\n                selectionText\r\n                ? editBuilder.replace(selection, resultStr)\r\n                : editBuilder.insert(selection.active, resultStr);\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  );\r\n\r\n  context.subscriptions.push(disposable);\r\n}\r\n","\"use strict\";\r\n\r\nimport { window, workspace, EndOfLine } from \"vscode\";\r\n\r\nfunction upperFirstCase(str: string) {\r\n  return str.substring(0, 1).toUpperCase() + str.substring(1);\r\n}\r\n\r\nconst defaultTypeValue = {\r\n  'number': void 0,\r\n  'undefined': void 0,\r\n  'string': '',\r\n  'boolean': false,\r\n  'bigint': void 0,\r\n  'symbol': void 0,\r\n  'object': {},\r\n  'function': void 0,\r\n}\r\n\r\nexport class ModelCreator {\r\n  public data: { [key: string]: any } = {};\r\n  private className = \"Test\";\r\n  private enterSign = \"\\n\";\r\n  private modelStr: Array<string> = [];\r\n\r\n  constructor(className: string, dataJson: {[key: string]: any}) {\r\n    if (window.activeTextEditor?.document.eol) {\r\n      this.enterSign =\r\n        window.activeTextEditor?.document.eol === EndOfLine.LF ? \"\\n\" : \"\\r\\n\";\r\n    }\r\n\r\n    this.className = className ? upperFirstCase(className) : this.className;\r\n    this.data = dataJson || {};\r\n  }\r\n\r\n  /**\r\n   * 创建model\r\n   */\r\n  public generateModel() {\r\n    // 先判断 this.data 有没有值\r\n    if (this.data !== null) {\r\n      // 构建接口 model constructor\r\n      this.modelStr.push(this.generateConstructor(this.data));\r\n      this.modelStr.push(this.generateInterface(this.data));\r\n      this.modelStr.push(this.generateClass(this.className, this.data[\"data\"] || {}));\r\n      // this.modelStr.push(this.generateClass(this.className, this.data || {}));\r\n      return this.modelStr.reverse().join(this.enterSign);\r\n    } else {\r\n      window.showErrorMessage(\"data 值为null，请重新复制接口响应数据\");\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  /** 创建 接口定义 */\r\n  private generateInterface(data: { [key: string]: any }) {\r\n    let tempInterArr = [];\r\n    tempInterArr.push(`interface I${this.className}ContainerModel<T> {`);\r\n    Object.keys(data).forEach(key => {\r\n      if (key !== \"data\") {\r\n        if (typeof data[key] !== 'object') {\r\n          tempInterArr.push(`  ${key}: ${typeof data[key]};`);\r\n        } else if (data[key] === null) {\r\n          tempInterArr.push(`  ${key}: null;`);\r\n        }\r\n      }\r\n    });\r\n    tempInterArr.push(`  data: T;`);\r\n    tempInterArr.push(`}${this.enterSign}`);\r\n    return tempInterArr.join(this.enterSign);\r\n  }\r\n\r\n  /**\r\n   * 创建 数据的 constructor\r\n   * @param data 接口数据\r\n   */\r\n  private generateConstructor(data: { [key: string]: any }) {\r\n    let tempConArr = [];\r\n    const baseStructureKey = ['msg', 'message', 'ok', 'success', 'status', 'code', 'data']\r\n    if (Array.isArray(data[\"data\"])) {\r\n      tempConArr.push(\r\n        `export class ${this.className}CM extends ContainerModel<${this.className}M[]>{`\r\n      );\r\n    } else {\r\n      tempConArr.push(\r\n        `export class ${this.className}CM extends ContainerModel<${this.className}M>{`\r\n      );\r\n    }\r\n    // 创建 额外的响应结构（1）\r\n    tempConArr.push(`    // 额外的响应结构`);\r\n    Object.keys(data).filter(key => baseStructureKey.indexOf(key) === -1).forEach(key => {\r\n      // 创建 额外的响应结构（2）\r\n      if (typeof data[key] !== 'object') {\r\n        tempConArr.push(`    ${key}:${typeof data[key]} = ${defaultTypeValue[typeof data[key]]};`);\r\n      } else if (data[key] === null) {\r\n        tempConArr.push(`    ${key} = null;`);\r\n      } else if (Array.isArray(data[key])) {\r\n        tempConArr.push(`    ${key} = [];`);\r\n      } else {\r\n        tempConArr.push(`    ${key} = {};`);\r\n      }\r\n    });\r\n\r\n    tempConArr.push('');\r\n    if (Array.isArray(data[\"data\"])) {\r\n      tempConArr.push(\r\n        `    constructor(props: I${this.className}ContainerModel<${this.className}M[]>){`\r\n      );\r\n    } else {\r\n      tempConArr.push(\r\n        `    constructor(props: I${this.className}ContainerModel<${this.className}M>){`\r\n      );\r\n    }\r\n    tempConArr.push(`        super(props);`);\r\n    tempConArr.push('');\r\n\r\n    // 创建 基本响应结构 msg,code,status\r\n    tempConArr.push(`        // 基本响应结构`);\r\n    Object.keys(data).forEach(key => {\r\n      if (key === \"msg\" || key === \"message\") {\r\n        tempConArr.push(`        this.message = props.${key} || '查询成功';`);\r\n      }\r\n      if (key === \"ok\" || key === \"success\") {\r\n        tempConArr.push(`        this.success = props.${key} || true;`);\r\n      }\r\n      if (key === \"status\" || key === \"code\") {\r\n        tempConArr.push(`        this.code = props.${key} || '';`);\r\n        tempConArr.push('');\r\n      }\r\n\r\n      // 创建 额外的响应结构（2）\r\n      if (baseStructureKey.indexOf(key) === -1) {\r\n        if (typeof data[key] !== 'object') {\r\n          tempConArr.push(`        this.${key} = props.${key} || ${defaultTypeValue[typeof data[key]]};`);\r\n        } else if (data[key] === null) {\r\n          tempConArr.push(`        this.${key} = props.${key} || null;`);\r\n        } else if (Array.isArray(data[key])) {\r\n          tempConArr.push(`        this.${key} = props.${key} || [];`);\r\n        } else {\r\n          tempConArr.push(`        this.${key} = props.${key} || {};`);\r\n        }\r\n      }\r\n    });\r\n    tempConArr.push('');\r\n    // 创建 data\r\n    tempConArr.push(`        if (props && props.data) {`);\r\n    if (Array.isArray(data[\"data\"])) {\r\n      tempConArr.push(\r\n        `            this.data = super.transformArray(props.data, ${this.className}M);`\r\n      );\r\n    } else {\r\n      tempConArr.push(\r\n        `            this.data = super.transformObject(props.data, ${this.className}M);`\r\n      );\r\n    }\r\n    tempConArr.push(`        } else {`);\r\n    if (Array.isArray(data[\"data\"])) {\r\n      tempConArr.push(`            this.data = []`);\r\n    } else {\r\n      tempConArr.push(`            this.data = new ${this.className}M()`);\r\n    }\r\n    tempConArr.push(`        }`);\r\n    tempConArr.push(`   }`);\r\n    tempConArr.push(`}`);\r\n    tempConArr.push('');\r\n    return tempConArr.join(this.enterSign);\r\n  }\r\n\r\n  /**\r\n   * 创建实体\r\n   * @param name 实体名称\r\n   * @param data 实体数据\r\n   */\r\n  private generateClass(name: string, data: { [key: string]: any }) {\r\n    let _genClass = (data: {[key: string]: any}) => {\r\n      console.log('genclass', data)\r\n      Object.keys(data).forEach(key => {\r\n        if (typeof data[key] === \"number\") {\r\n          tempClassArr.push(`    @DataMapper('${key}')`);\r\n          tempClassArr.push(`    ${key}: number = Number.MAX_VALUE`);\r\n          tempClassArr.push('');\r\n        }\r\n        if (typeof data[key] === \"string\") {\r\n          tempClassArr.push(`    @DataMapper('${key}')`);\r\n          tempClassArr.push(`    ${key} = '';`);\r\n          tempClassArr.push('');\r\n        }\r\n        if (typeof data[key] === \"boolean\") {\r\n          tempClassArr.push(`    @DataMapper('${key}')`);\r\n          tempClassArr.push(`    ${key} = false;`);\r\n          tempClassArr.push('');\r\n        }\r\n        if (typeof data[key] === \"undefined\") {\r\n          tempClassArr.push(`    @DataMapper('${key}')`);\r\n          tempClassArr.push(`    ${key} = void 0;`);\r\n          tempClassArr.push('');\r\n        }\r\n        if (typeof data[key] === \"object\") {\r\n          if (data[key] === null) {\r\n            tempClassArr.push(`    @DataMapper('${key}')`);\r\n            tempClassArr.push(`    ${key} = null;`);\r\n            tempClassArr.push('');\r\n          } else if (Array.isArray(data[key])) {\r\n            tempClassArr.push(`    @DataMapper('${key}')`);\r\n            // 如果不是一个空数组\r\n            if (data[key][0] !== undefined) {\r\n              tempClassArr.push(`    ${key}:${upperFirstCase(key)}M[] = [];`);\r\n              tempClassArr.push('');\r\n              tempClassArr.unshift(this.generateClass(upperFirstCase(key), data[key][0]))\r\n            } else {\r\n              tempClassArr.push(`    ${key} = [];`);\r\n              tempClassArr.push('');\r\n            }\r\n          } else {\r\n            tempClassArr.push(\r\n              `    @DataMapper({ clazz: ${upperFirstCase(key)}M, name: '${key}' })`\r\n            );\r\n            tempClassArr.push(`    ${key} = new ${upperFirstCase(key)}M;`);\r\n          tempClassArr.push('');\r\n            tempClassArr.unshift(this.generateClass(upperFirstCase(key), data[key]))\r\n          }\r\n        }\r\n      });\r\n    }\r\n    let tempClassArr = [];\r\n    tempClassArr.push(`export class ${name}M {`);\r\n    if (Array.isArray(data)) {\r\n      _genClass(data[0])\r\n    } else {\r\n      _genClass(data)\r\n    }\r\n    tempClassArr.push(`}`);\r\n    tempClassArr.push('');\r\n    return tempClassArr.join(this.enterSign);\r\n  }\r\n}","'use strict';\r\n\r\nimport { window } from 'vscode';\r\n\r\nexport async function showInputBox(selectionText: string) {\r\n\tconst result = await window.showInputBox({\r\n\t\tvalue: selectionText ? selectionText : '',\r\n\t\t// valueSelection: [2, 4],\r\n\t\tplaceHolder: '输入mode名称，不包含Entity、EntityContainer的字符',\r\n\t\t// validateInput: text => {\r\n\t\t// \twindow.showInformationMessage(`Validating: ${text}`);\r\n\t\t// \treturn text === '123' ? 'Not 123!' : null;\r\n\t\t// }\r\n\t});\r\n  return result;\r\n}"],"sourceRoot":""}